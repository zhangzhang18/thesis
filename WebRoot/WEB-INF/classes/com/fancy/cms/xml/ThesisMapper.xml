<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fancy.cms.dao.ThesisMapper">
	<resultMap id="BaseResultMap" type="com.fancy.cms.model.Thesis">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="CID" jdbcType="INTEGER" property="cid" />
		<result column="Cproperty" jdbcType="VARCHAR" property="cproperty" />
		<result column="CTitle" jdbcType="VARCHAR" property="ctitle" />
		<result column="Ctype" jdbcType="VARCHAR" property="ctype" />
		<result column="submitdate" jdbcType="TIMESTAMP" property="submitDate" />
		<result column="CFlag" jdbcType="INTEGER" property="cflag" />
		<result column="StuID" jdbcType="INTEGER" property="stuid" />
		<result column="TID" jdbcType="INTEGER" property="tid" />
		<result column="Research" jdbcType="INTEGER" property="research" />
		<association property="teacher" javaType="com.fancy.cms.model.Teachers">
			<id column="TID" jdbcType="INTEGER" property="tid" />
			<result column="pinyin" jdbcType="VARCHAR" property="pinyin" />
			<result column="tea_name" jdbcType="VARCHAR" property="teaName" />
			<result column="back1" jdbcType="VARCHAR" property="back1" />
			<result column="back2" jdbcType="VARCHAR" property="back2" />
			<result column="Ssum" jdbcType="INTEGER" property="ssum" />
		</association>
		<association property="student" javaType="com.fancy.cms.model.Students">
			<id column="StuID" jdbcType="INTEGER" property="stuid" />
			<result column="StuName" jdbcType="VARCHAR" property="stuname" />
			<result column="StuSex" jdbcType="CHAR" property="stusex" />
			<result column="StuPwd" jdbcType="VARCHAR" property="stupwd" />
			<result column="StuClass" jdbcType="INTEGER" property="stuclass" />
			<result column="TID" jdbcType="INTEGER" property="tid" />
		</association>
	</resultMap>
	<resultMap extends="BaseResultMap" id="ResultMapWithBLOBs"
		type="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<result column="Content" jdbcType="LONGVARCHAR" property="content" />
		<result column="Message" jdbcType="LONGVARCHAR" property="message" />
		<result column="Cremark" jdbcType="LONGVARCHAR" property="cremark" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" prefixOverrides="and" suffix=")">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach close=")" collection="criterion.value" item="listItem"
										open="(" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" prefixOverrides="and" suffix=")">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach close=")" collection="criterion.value" item="listItem"
										open="(" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		CID, Cproperty, CTitle, Ctype, submitdate, CFlag, StuID, TID,
		Research
	</sql>
	<sql id="Blob_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		Content, Message, Cremark
	</sql>
	<select id="selectByExampleWithBLOBs" parameterType="com.fancy.cms.model.ThesisExample"
		resultMap="ResultMapWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from thesis
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by $orderByClause$
		</if>
	</select>
	<select id="selectByExample" parameterType="com.fancy.cms.model.ThesisExample"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from thesis
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByPrimaryKey" parameterType="java.lang.Integer"
		resultMap="ResultMapWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from thesis
		where CID = #{cid,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from thesis
		where CID = #{cid,jdbcType=INTEGER}
	</delete>
	<delete id="deleteByExample" parameterType="com.fancy.cms.model.ThesisExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from thesis
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into thesis ( Cproperty, CTitle,
		Ctype, submitdate, CFlag,
		StuID, TID,
		Content, Message
		)
		values ( #{cproperty,jdbcType=VARCHAR},
		#{ctitle,jdbcType=VARCHAR},
		#{ctype,jdbcType=VARCHAR},
		#{submitDate,jdbcType=TIMESTAMP}, #{cflag,jdbcType=INTEGER},
		#{stuid,jdbcType=INTEGER}, #{tid,jdbcType=INTEGER},
		#{content,jdbcType=LONGVARCHAR}, #{message,jdbcType=LONGVARCHAR}
		)
	</insert>
	<insert id="insertSelective" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into thesis
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="cid != null">
				CID,
			</if>
			<if test="cproperty != null">
				Cproperty,
			</if>
			<if test="ctitle != null">
				CTitle,
			</if>
			<if test="ctype != null">
				Ctype,
			</if>
			<if test="submitDate != null">
				submitdate,
			</if>
			<if test="cflag != null">
				CFlag,
			</if>
			<if test="stuid != null">
				StuID,
			</if>
			<if test="tid != null">
				TID,
			</if>
			<if test="research != null">
				Research,
			</if>
			<if test="content != null">
				Content,
			</if>
			<if test="message != null">
				Message,
			</if>
			<if test="cremark != null">
				Cremark,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="cid != null">
				#{cid,jdbcType=INTEGER},
			</if>
			<if test="cproperty != null">
				#{cproperty,jdbcType=VARCHAR},
			</if>
			<if test="ctitle != null">
				#{ctitle,jdbcType=VARCHAR},
			</if>
			<if test="ctype != null">
				#{ctype,jdbcType=VARCHAR},
			</if>
			<if test="submitDate != null">
				#{submitDate,jdbcType=TIMESTAMP},
			</if>
			<if test="cflag != null">
				#{cflag,jdbcType=INTEGER},
			</if>
			<if test="stuid != null">
				#{stuid,jdbcType=INTEGER},
			</if>
			<if test="tid != null">
				#{tid,jdbcType=INTEGER},
			</if>
			<if test="research != null">
				#{research,jdbcType=INTEGER},
			</if>
			<if test="content != null">
				#{content,jdbcType=LONGVARCHAR},
			</if>
			<if test="message != null">
				#{message,jdbcType=LONGVARCHAR},
			</if>
			<if test="cremark != null">
				#{cremark,jdbcType=LONGVARCHAR},
			</if>
		</trim>
	</insert>
	<select id="countByExample" parameterType="com.fancy.cms.model.ThesisExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select count(*) from thesis
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		<set>
			<if test="record.cid != null">
				CID = #{record.cid,jdbcType=INTEGER},
			</if>
			<if test="record.cproperty != null">
				Cproperty = #{record.cproperty,jdbcType=VARCHAR},
			</if>
			<if test="record.ctitle != null">
				CTitle = #{record.ctitle,jdbcType=VARCHAR},
			</if>
			<if test="record.ctype != null">
				Ctype = #{record.ctype,jdbcType=VARCHAR},
			</if>
			<if test="record.submitDate != null">
				submitdate = #{record.submitDate,jdbcType=TIMESTAMP},
			</if>
			<if test="record.cflag != null">
				CFlag = #{record.cflag,jdbcType=INTEGER},
			</if>
			<if test="record.stuid != null">
				StuID = #{record.stuid,jdbcType=INTEGER},
			</if>
			<if test="record.tid != null">
				TID = #{record.tid,jdbcType=INTEGER},
			</if>
			<if test="record.research != null">
				Research = #{record.research,jdbcType=INTEGER},
			</if>
			<if test="record.content != null">
				Content = #{record.content,jdbcType=LONGVARCHAR},
			</if>
			<if test="record.message != null">
				Message = #{record.message,jdbcType=LONGVARCHAR},
			</if>
			<if test="record.cremark != null">
				Cremark = #{record.cremark,jdbcType=LONGVARCHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExampleWithBLOBs" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		set CID = #{record.cid,jdbcType=INTEGER},
		Cproperty =
		#{record.cproperty,jdbcType=VARCHAR},
		CTitle =
		#{record.ctitle,jdbcType=VARCHAR},
		Ctype =
		#{record.ctype,jdbcType=VARCHAR},
		submitdate =
		#{record.submitDate,jdbcType=TIMESTAMP},
		CFlag =
		#{record.cflag,jdbcType=INTEGER},
		StuID =
		#{record.stuid,jdbcType=INTEGER},
		TID = #{record.tid,jdbcType=INTEGER},
		Research = #{record.research,jdbcType=INTEGER},
		Content =
		#{record.content,jdbcType=LONGVARCHAR},
		Message =
		#{record.message,jdbcType=LONGVARCHAR},
		Cremark =
		#{record.cremark,jdbcType=LONGVARCHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		set CID = #{record.cid,jdbcType=INTEGER},
		Cproperty =
		#{record.cproperty,jdbcType=VARCHAR},
		CTitle =
		#{record.ctitle,jdbcType=VARCHAR},
		Ctype =
		#{record.ctype,jdbcType=VARCHAR},
		submitdate =
		#{record.submitDate,jdbcType=TIMESTAMP},
		CFlag =
		#{record.cflag,jdbcType=INTEGER},
		StuID =
		#{record.stuid,jdbcType=INTEGER},
		TID = #{record.tid,jdbcType=INTEGER},
		Research = #{record.research,jdbcType=INTEGER}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		<set>
			<if test="cproperty != null">
				Cproperty = #{cproperty,jdbcType=VARCHAR},
			</if>
			<if test="ctitle != null">
				CTitle = #{ctitle,jdbcType=VARCHAR},
			</if>
			<if test="ctype != null">
				Ctype = #{ctype,jdbcType=VARCHAR},
			</if>
			<if test="submitDate != null">
				submitdate = #{submitDate,jdbcType=TIMESTAMP},
			</if>
			<if test="cflag != null">
				CFlag = #{cflag,jdbcType=INTEGER},
			</if>
			<if test="stuid != null">
				StuID = #{stuid,jdbcType=INTEGER},
			</if>
			<if test="tid != null">
				TID = #{tid,jdbcType=INTEGER},
			</if>
			<if test="research != null">
				Research = #{research,jdbcType=INTEGER},
			</if>
			<if test="content != null">
				Content = #{content,jdbcType=LONGVARCHAR},
			</if>
			<if test="message != null">
				Message = #{message,jdbcType=LONGVARCHAR},
			</if>
			<if test="cremark != null">
				Cremark = #{cremark,jdbcType=LONGVARCHAR},
			</if>
		</set>
		where CID = #{cid,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		set Cproperty = #{cproperty,jdbcType=VARCHAR},
		CTitle =
		#{ctitle,jdbcType=VARCHAR},
		Ctype = #{ctype,jdbcType=VARCHAR},
		submitdate = #{submitDate,jdbcType=TIMESTAMP},
		CFlag =
		#{cflag,jdbcType=INTEGER},
		StuID = #{stuid,jdbcType=INTEGER},
		TID =
		#{tid,jdbcType=INTEGER},
		Research = #{research,jdbcType=INTEGER},
		Content = #{content,jdbcType=LONGVARCHAR},
		Message =
		#{message,jdbcType=LONGVARCHAR},
		Cremark =
		#{cremark,jdbcType=LONGVARCHAR}
		where CID = #{cid,jdbcType=INTEGER}
	</update>
	<update id="setflag" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		set
		CFlag =
		#{cflag,jdbcType=INTEGER},
		StuID
		=
		#{stuid,jdbcType=INTEGER}
		where CID = #{cid,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.fancy.cms.model.Thesis">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update thesis
		set Cproperty = #{cproperty,jdbcType=VARCHAR},
		CTitle =
		#{ctitle,jdbcType=VARCHAR},
		Ctype = #{ctype,jdbcType=VARCHAR},
		submitdate = #{submitDate,jdbcType=TIMESTAMP},
		CFlag =
		#{cflag,jdbcType=INTEGER},
		StuID = #{stuid,jdbcType=INTEGER},
		TID =
		#{tid,jdbcType=INTEGER},
		Research = #{research,jdbcType=INTEGER}
		where
		CID = #{cid,jdbcType=INTEGER}
	</update>

	<select id="selectall" parameterType="com.fancy.cms.model.Thesis"
		resultMap="BaseResultMap">

		select * from thesis
	</select>

	<select id="getThesisByCid" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">

		select * from thesis
		where CID = #{cid,jdbcType=INTEGER}
	</select>

	<select id="getthesisByTid" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">

		select * from thesis
		where TID = #{tid,jdbcType=INTEGER}
	</select>

	<select id="getthesisBySid" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">

		select * from thesis
		where StuID = #{sid,jdbcType=INTEGER}
	</select>

	<select id="setflagByStuid" parameterType="java.lang.Integer"
		resultType="java.lang.Integer">

		select IFNULL(MAX( CFlag ),0) from thesis
		where StuID =
		#{sid,jdbcType=INTEGER}
	</select>

	<select id="getthesisByTtid" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">

		select * from thesis
		where TID = #{tid,jdbcType=INTEGER}
	</select>
	<select id="test" parameterType="java.lang.Integer" resultType="com.fancy.cms.model.Thesis">

		select *
		from thesis t,students s
		where t.TID =
		#{tid,jdbcType=INTEGER}
		and t.StuID=s.StuID
	</select>

	<select id="selectByTitle" parameterType="java.lang.String"
		resultMap="BaseResultMap">
		select * from thesis
		where CTitle like CONCAT(CONCAT('%',
		#{CTitle}),'%')
	</select>
	<select id="getPage" parameterType="map" resultMap="BaseResultMap">
		SELECT * FROM thesis,teachers where 1=1 and Research=1 and
		teachers.TID=thesis.TID
		<if test="ctitle != null">
			and CTitle LIKE '%${CTitle}%'

		</if>
		<if test="begin != null">
			LIMIT #{begin},10
		</if>
	</select>
	<select id="getCount" parameterType="java.lang.Integer"
		resultType="java.lang.Integer">
		select count(*) from thesis
		where 1=1 and Research=1
		<if test="ctitle != null">
			and CTitle LIKE '% ${CTitle} %'
		</if>
	</select>
	<select id="getPagea" parameterType="map" resultMap="BaseResultMap">
		SELECT * FROM thesis where 1=1
		<if test="ctitle != null">
			and CTitle LIKE '%${CTitle}%'

		</if>
		<if test="begin != null">
			LIMIT #{begin},10
		</if>
	</select>
	<select id="getCounta" parameterType="java.lang.Integer"
		resultType="java.lang.Integer">
		select count(*) from thesis
		where 1=1
		<if test="ctitle != null">
			and CTitle LIKE '% ${CTitle} %'
		</if>
	</select>
	<insert id="fromXls" parameterType="com.fancy.cms.model.ThesisWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into thesis ( Cproperty, CTitle,
		Ctype, submitdate, CFlag,
		StuID, TID,
		Content, Message
		)
		values ( #{cproperty,jdbcType=VARCHAR},
		#{ctitle,jdbcType=VARCHAR},
		#{ctype,jdbcType=VARCHAR},
		#{submitDate,jdbcType=TIMESTAMP}, #{cflag,jdbcType=INTEGER},
		#{stuid,jdbcType=INTEGER}, #{tid,jdbcType=INTEGER},
		#{content,jdbcType=LONGVARCHAR}, #{message,jdbcType=LONGVARCHAR}
		)
	</insert>
	<insert id="fromXls2" parameterType="java.util.List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into thesis ( Cproperty, CTitle,
		Ctype, submitdate, CFlag,
		StuID, TID,
		Content, Message
		)
		values
		<foreach collection="list" item="item" index="index"
			separator=",">
			( #{item.cproperty},#{item.ctitle},#{item.ctype}
			,#{item.submitDate},#{item.cflag},#{item.stuid},
			#{item.tid},#{item.content},#{item.message}
			)
		</foreach>
	</insert>
</mapper>